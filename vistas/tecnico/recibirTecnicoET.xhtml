<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <!-- head -->
    <h:head>
        <meta content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>
            Servicio Médico Legal
        </title>
        <!--  Bootstrap Core CSS -->
        <link href=".../css/bootstrap.min.css" rel="stylesheet" />
        <!--  Custom CSS -->
        <link href=".../css/shop-item.css" rel="stylesheet" />
    </h:head>
    <!-- head -->

    <h:body>

        <div class="container">


            <!-- Usuario logeado -->

            <h:form>
                <div class="thumbnail">
                    <div align="center"><h:outputLabel class="input-group-lg"  for="NombreUsuario" style=" background-color: white" value="Bienvenido(a) #{recibirTecnicoMB.usuarioSesion.nombreUsuario}"></h:outputLabel></div>
                </div>
            </h:form> 

            <hr />
            <!-- usuario logeado -->
            <!-- Nav -->
            <div class="row" style="background:rgba(255, 255, 255, 0.8); padding:5px; border-radius: 0 0 7px 7px; margin-top:5px">
                <div  class="col-md-3" align="center"> <!-- Barra de navegación -->
                    <a class="navbar-brand" align="center" href="#">SERVICIO MÉDICO LEGAL</a>
                </div>
                <div class="col-md-9"> <!-- Barra de navegación -->
                    <h:form>
                        <ul class="nav nav-tabs nav-justified">

                            <li role="presentation" class="active" ><a href="tecnicoFormulario.xhtml">Iniciar nuevo formulario</a></li>

                            <li role="presentation" ><a href="buscadorTecnico.xhtml">Buscar</a></li>

                            <li role="presentation"> <h:commandLink id="cs" action="#{recibirTecnicoMB.salir()}" value="Cerrar sesión"></h:commandLink> </li>

                        </ul>
                    </h:form>
                </div>
            </div>      

            <!-- Nav -->
            <!-- Barra lateral izquierda -->

            <div class="container-fluid">       
                <div class="row" style="background:rgba(255, 255, 255, 0.8); padding:5px; border-radius: 0 0 7px 7px; margin-top:10px">
                    <div class="col-md-3">
                        <p class="lead">
                            <a href="http://www.sml.cl/sml/" target="_blank" ><img class="img-responsive" src=".../imagenes/logoSML.jpg" alt="" /> </a>
                        </p><hr />
                        <p class="lead">
                            <img class="img-responsive" src=".../imagenes/camioneta.jpg" alt="" />
                        </p><hr />

                        <p class="lead">
                            <a href="http://www.sml.cl/intranetsml/index.php" target="_blank"><img class="img-responsive" src=".../imagenes/intranet.jpg" alt=" "/></a>
                        </p><hr />                       
                    </div>

                    <!-- Barra lateral izquierda -->




                    <!--fin usuario logeado --> 
                    <div class="col-md-9">
                        <div class="thumbnail" style="width: 785px; padding: 15px;">
                            <!-- Barra de navegación -->

                            <h:form>

                                <h:panelGrid columns="4" cellpadding="5" class="ui-grid">
                                    <h:outputLabel  for="ruc" value="R.U.C.:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="ruc" value="#{recibirTecnicoMB.formulario.ruc}" label="ruc" disabled="true" ></p:inputText>

                                    <h:outputLabel  for="rit" value="R.I.T.:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="rit" value="#{recibirTecnicoMB.formulario.rit}" label="rit" disabled="true"></p:inputText>

                                    <h:outputLabel  for="nue" value="N.U.E.:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="nue" value="#{recibirTecnicoMB.formulario.nue}" label="nue" disabled="true"></p:inputText>                                   

                                    <h:outputLabel  for="del" value="Delito:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="del" value="#{recibirTecnicoMB.formulario.delitoRef}" label="Delito" disabled="true"></p:inputText>

                                    <h:outputLabel for="car" value="Cargo:" style="width: 120px"/>
                                    <p:inputText id="car" value="#{recibirTecnicoMB.formulario.usuarioidUsuario.cargoidCargo.nombreCargo}" label="Cargo" disabled="true"/>

                                    <h:outputLabel  for="dir" value="Dirección:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="dir" value="#{recibirTecnicoMB.formulario.direccionSS}" label="Dirección" disabled="true"></p:inputText>

                                    <h:outputLabel  for="lu" value="Lugar:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="lu" value="#{recibirTecnicoMB.formulario.lugarLevantamiento}" label="Lugar" disabled="true"></p:inputText>

                                    <h:outputLabel  for="parte" value="N° Parte:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="parte" value="#{recibirTecnicoMB.formulario.numeroParte}" label="N° Parte" disabled="true"></p:inputText>

                                    <h:outputLabel  for="uni" value="Unidad:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="uni" value="#{recibirTecnicoMB.formulario.usuarioidUsuario.unidad}" label="Unidad" disabled="true"></p:inputText>

                                    <h:outputLabel  for="lev" value="Levantada por:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="lev" value="#{recibirTecnicoMB.formulario.usuarioidUsuario.nombreUsuario}" label="Levantada por" disabled="true"></p:inputText>

                                    <h:outputLabel  for="run" value="R.U.N.:" style="width:120px"></h:outputLabel>
                                    <p:inputText id="run" value="#{recibirTecnicoMB.formulario.usuarioidUsuario.rutUsuario}" label="R.U.N." disabled="true"></p:inputText>            

                                </h:panelGrid> <br />


                                <h:panelGrid columns="1" cellpadding="5" class="ui-grid">
                                    <h:outputLabel  for="fecha" value="Fecha:" style="width:120px"></h:outputLabel>
                                    <p:calendar id="fecha" pattern="dd/MM/yyyy HH:mm" locale="es" value="#{recibirTecnicoMB.formulario.fechaOcurrido}" disabled="true"/>
                                    <hr />
                                    <h:outputLabel  for="obs" value="Observaciones:" style="width:120px"></h:outputLabel>
                                    <p:inputTextarea id="Observaciones" rows="3" cols="90" value="#{recibirTecnicoMB.formulario.observaciones}" queryDelay="750" minQueryLength="4" disabled="true" />

                                    <h:outputLabel  for="des" value="Descripción:" style="width:120px"></h:outputLabel>
                                    <p:inputTextarea id="descripcion" rows="3" cols="90" value="#{recibirTecnicoMB.formulario.descripcionEspecieFormulario}" disabled="true" queryDelay="750" minQueryLength="4" />
                                </h:panelGrid>
                                <hr />

                                <br />
                                <!-- mostrando lista de traslados -->
                              <h4> Mostrando Traslados</h4>

                                    <div align="center">

                                        <p:dataTable var="traslado" value="#{recibirTecnicoMB.trasladosList}" scrollRows="20" scrollable="true" liveScroll="true" scrollHeight="150" style="margin-bottom:0">

                                            <p:column headerText="">
                                                <h:outputText value="Entrega"/> <hr />
                                                <h:outputText value="Recibe"/>
                                            </p:column>

                                            <p:column headerText="Nombre">
                                                <h:outputText value="#{traslado.usuarioidUsuario1.nombreUsuario}" /><hr />
                                                <h:outputText value="#{traslado.usuarioidUsuario.nombreUsuario}" />
                                            </p:column>

                                            <p:column headerText="Cargo">
                                                <h:outputText value="#{traslado.usuarioidUsuario1.cargoidCargo.nombreCargo}" /><hr />
                                                <h:outputText value="#{traslado.usuarioidUsuario.cargoidCargo.nombreCargo}" />
                                            </p:column>

                                            <p:column headerText="R.U.N.">
                                                <h:outputText value="#{traslado.usuarioidUsuario1.rutUsuario}" /><hr />
                                                <h:outputText value="#{traslado.usuarioidUsuario.rutUsuario}" />
                                            </p:column>

                                            <p:column headerText="Fecha">
                                                <h:outputText value="#{traslado.fechaEntrega}" />
                                            </p:column>

                                            <p:column headerText="Observación">
                                                <h:outputText value="#{traslado.observaciones}" />
                                            </p:column>

                                            <p:column headerText="Motivo">
                                                <h:outputText value="#{traslado.tipoMotivoidMotivo.tipoMotivo}" />
                                            </p:column>



                                        </p:dataTable>



                                    </div><br />

                                    <!-- mostrar ediciones  -->
                                    <h4> Mostrando Ediciones</h4>
                                    <div align="center">

                                        <p:dataTable var="ediciones" value="#{recibirTecnicoMB.edicionesList}" scrollRows="20" scrollable="true" liveScroll="true" scrollHeight="90" style="margin-bottom:0">

                                            <p:column headerText="Editado por">
                                                <h:outputText value="#{ediciones.usuarioidUsuario.nombreUsuario}" />
                                            </p:column>

                                            <p:column headerText="Fecha">
                                                <h:outputText value="#{ediciones.fechaEdicion}" />
                                            </p:column>

                                            <p:column headerText="Observaciones">
                                                <h:outputText value="#{ediciones.observaciones}" />
                                            </p:column>

                                        </p:dataTable>

                                    </div><br />
                                    <!-- fin mostrar ediciones -->                                  

                                <!-- recibir cadena  -->
                                <h4 class="pull-center">Cadena de Custodia</h4><br />

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">
                                    <h:outputLabel  style="width:120px" for="fech" value="Fecha:"></h:outputLabel> <!-- nose si poner la misma etiqueta -->
                                    <p:calendar id="fech" pattern="dd/MM/yyyy HH:mm" locale="es" value="#{recibirTecnicoMB.fechaT}" disabled="true"/>                                    
                                    <p:message for="fech" display="text"/>
                                </h:panelGrid>
                                <br />
                                <h4 class="pull-center">Entrega:</h4> <br />

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">

                                    <h:outputLabel  style="width:120px" for="UnE" value="Unidad:"></h:outputLabel> <!-- nose si poner la misma etiqueta -->
                                    <p:inputText id="UnE" value="#{recibirTecnicoMB.usuarioEntregaUnidad}" label="Unidad" disabled="true">
                                    </p:inputText>
                                    <p:message for="UnE" display="text"/> 

                                </h:panelGrid>
                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">

                                    <h:outputLabel  style="width:120px" for="CE" value="Cargo:"></h:outputLabel> <!-- nose si poner la misma etiqueta -->
                                    <p:inputText id="CE" value="#{recibirTecnicoMB.usuarioEntregaCargo}" label="Cargo" required="true" disabled="true">
                                    </p:inputText>
                                    <p:message for="CE" display="text"/> 

                                </h:panelGrid>

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">

                                    <h:outputLabel  style="width:120px" for="nomE" value="Nombre:"></h:outputLabel>
                                    <p:inputText id="nomE" value="#{recibirTecnicoMB.usuarioEntrega}" label="Nombre" disabled="true">
                                    </p:inputText>
                                    <p:message for="nomE" display="text"/> 

                                </h:panelGrid>

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">

                                    <h:outputLabel  style="width:120px" for="runE" value="R.U.N.:"></h:outputLabel>
                                    <p:inputText id="runE" value="#{recibirTecnicoMB.usuarioEntregaRut}" label="R.U.N." disabled="true">
                                    </p:inputText>
                                    <p:message for="runE" display="text"/> 

                                </h:panelGrid>
                                <br />
                                <h4 class="pull-center">Recibe:</h4><br />

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">
                                    <h:outputLabel  style="width:120px" for="UnR" value="Unidad:"></h:outputLabel> <!-- nose si poner la misma etiqueta -->
                                    <p:inputText id="UnR" value="#{recibirTecnicoMB.usuarioRecibeUnidad}" label="Unidad" disabled="true">
                                    </p:inputText>
                                    <p:message for="UnR" display="text"/> 
                                </h:panelGrid>

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">

                                    <h:outputLabel  style="width:120px" for="CR" value="Cargo:"></h:outputLabel> <!-- nose si poner la misma etiqueta -->
                                    <p:inputText id="CR" value="#{recibirTecnicoMB.usuarioRecibeCargo}" label="Cargo" disabled="true">
                                    </p:inputText>
                                    <p:message for="CR" display="text"/> 

                                </h:panelGrid>


                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">
                                    <h:outputLabel  style="width:120px" for="nomR" value="Nombre:"></h:outputLabel>
                                    <p:inputText id="nomR" value="#{recibirTecnicoMB.usuarioRecibe}" label="Nombre" disabled="true">
                                    </p:inputText>
                                    <p:message for="nomR" display="text"/> 

                                </h:panelGrid>

                                <h:panelGrid columns="5" cellpadding="5" class="ui-grid">

                                    <h:outputLabel  style="width:120px" for="runR" value="R.U.N.:"></h:outputLabel>
                                    <p:inputText id="runR" value="#{recibirTecnicoMB.usuarioRecibeRut}" label="R.U.N." disabled="true">
                                    </p:inputText>
                                    <p:message for="runR" display="text"/> 
                                </h:panelGrid>
                                <br />
                                <div align="center">
                                    <h:selectOneRadio id="check" value="#{recibirTecnicoMB.motivo}" required="true" requiredMessage="Ingrese que acción realizará con la evidencia">
                                        <f:selectItem itemValue="Peritaje" itemLabel="Peritaje" /> <!-- agregar libreria arriba-->
                                        <f:selectItem itemValue="Traslado" itemLabel="Traslado" />
                                        <f:selectItem itemValue="Custodia" itemLabel="Custodia" />
                                    </h:selectOneRadio><br />
                                    <p:message for="check" display="text"/>
                                </div><br />

                                <h:outputLabel  for="obsCC" value="Observaciones:" style="width:120px"></h:outputLabel>
                                <p:inputTextarea id="ObsCC" rows="3" cols="90" value="#{recibirTecnicoMB.observacionesT}" queryDelay="750" minQueryLength="4" />
                                <br />    
                                <h:commandButton id="btnAceptar" value="Aceptar" action="#{recibirTecnicoMB.agregarTraslado()}"/>
                                <p:messages id="messages" closable="true" />
                                <br />

                            </h:form> <br />

                        </div>
                    </div>

                    <!-- Footer -->

                </div>
                <nav class="navbar navbar-default" role="navigation">
                    <div class="col-md-3" style="margin-top: 20px">
                        <p class="lead">
                            <img class="img-responsive" src=".../imagenes/footer2.jpg" alt="" />
                        </p><br />
                    </div>
                    <div class="col-md-9">

                        <h5 class="pull-right">
                            Servicio Médico Legal - Avda. La Paz 1012, Independencia,
                            Santiago - Teléfono Mesa Central:
                        </h5>
                        <h5 class="pull-right">
                            (2) 27823500 Fono OIRS: (2) 2782 3662 - 2782 3663 - 2782 3664 - 800
                            800 006
                        </h5>
                    </div>                    
                </nav>        
            </div>
        </div>
        <!-- Footer -->

    </h:body>
</html>